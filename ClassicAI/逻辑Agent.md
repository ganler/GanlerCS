# 逻辑Agent

> - 重点：合取范式的化简；

## 逻辑智能体

#### 知识库(KB, Knowledge Base)

- 关于世界(外部环境，智能体本身，行动能力等)的**知识集合**；
- 一般每条知识对应一个语句，通过特定的**知识表示语言**（Knowledge representation language）来表达。

#### 推理机(Inference System)

- 根据KB推理出知识；

> 如 KB={rain,if rain then wet} 可推理得到知识“wet”。

#### 逻辑智能体的操作过程

> - 性能度量；
> - 环境；
> - 执行器；
> - 传感器；

- TELL KB新观察或新知识；
- ASK KB下一步采取何种行动；
- 执行行动，并TELL KB；

#### 逻辑智能体层次

> 知识$\to$ 逻辑推理(A可推出B) $\to$ 执行；

- 知识层次(Knowledge level)
- 逻辑层次(Logic level)
- 执行层(Implementation level)

#### KR假设

智能可以通过符号推理形式化刻画。

> KR的目的是**将知识处理成计算机可以处理的形式**，使智能体使用。

KR **sentence**组成：

- 语法**Syntax**；
- 语义**Semantics**；

#### 逻辑

- KR **sentence**通过形式化语言来表达世界/环境；
- **Facts**表示事假/环境中真假的断言；

- 语义(Semantics)将sentence和对应的facts对应起来；
- 通过合理的推理机，得到的结论也是facts。
- KR 的根本问题:在设计逻辑语言时，平衡其表达能力(expressiveness)与推理效率(tractability)

#### Tips

- 知识以**知识表示语言**（KR language）的语句的形式存储在知识库(KB)中；
- 智能逻辑题是由**知识库**和**推理机**构成，通过对知识库中的语句进行推理以得到新的语句，并对此进行决策；
- **语法**：合法语句的形式化结构；
- **语义**：语句的真值解释；
- **语义后承**(Entailment)：在语义意义下成真的结论；
- **推理**(Inference)：基于语句的形式化推理；
- **可靠性**(Soundness)：推理的结论都是语义后承；
- **完成性**(Completeness)：语义后承都能被推理出来；

## 命题逻辑

> 命题逻辑是最简单的一种KR语言。


- m是a的一个模型（把模型想象成世界即可），那么就是说a在m环境下是真的。a为真的所有环境是$M(a)$。(也可解释为a推导出b)
- $a|-_ib$：a通过算法i推导出了b。

#### 逻辑蕴含

a为真的时候，b也为真：$a|=b \Longleftrightarrow M(a) \in M(b)$；

![image-20190526220123276](/Users/ganler-mac/Desktop/image-20190526220123276.png)

> 把$p\subset q$看成$0 | 1$就好。

- 双向蕴含： $\leftrightarrow$即当且仅当的意思。也等价于全等号。

#### 语句

- 原子语句由单个命题词组成。每个命题词代表或真或假的命题。
- 与原子语句对应的就是复杂语句，其是多个命题词的逻辑组合。

> 语法决定了语句生成的规则。
![](https://i.loli.net/2019/05/26/5ceaa9e731d0e81355.png)

#### 语义

语义定义了用于判定**模型中**语句真假的规则。

比如模型m判定了语句a,b,c的规则：
$$
m=\{a=false, b=true, c=false\}
$$

- 有效valid：一个命题在所有模型下都是真的；
- 可满足：可能为真；
- 不可满足：在所有模型下都是假的。

#### 合取范式

-  文字（原子子句）；
- 子句（文字的某种析取）；
- 合取范式CNF（子句的合取，`{子句} ∩ {子句}`）；

> 将公式转为CNF就是从外到内的消去别的公式；(可用真值表检测结果)

#### 简单的知识库

前面说了知识库的东西就是语句而已。而知识库中的语句都是智能体认为是”真“的语句。

#### 推理方法

- 模型检测(搜索)
	- 穷举
	- 回溯搜索DPLL
	- 启发式搜索(可靠但不完备)
- 基于规则的推理
	- 归结：将公式化为句子，不断使用归结推理规则，知道没有可添加的新语句或出现空子句；(可靠且完备的)
	- 前向/后向链接：线性时间，针对Horn子句(至多只有一个原子语句的文字析取式)是完备的。

## 一阶逻辑

#### 形成规则

> 一届逻辑的句法元素是：
>
> - 表示对象（对应**常量符号**）；
> - 关系（对应**谓词符号**）；
> - 函数的符号（**函词**）；
>
> > **元数**代表参数个数；除了这三者，还报包括这三者(常量、谓词和函词)的解释。
> >
> > 如有对象lrz，函词leg，我们要表示lrz的leg就可以用leg(lrz)。

- 项(term)：<u>对象的逻辑表达式</u>
  - 项是指**个体变元和个体常元**；
  - 若f是n元函项符号，t1~tn是项，那么f(t1,~,tn)也是项；
- 一阶公式(语句，sentences)
  - 若P是n元谓词符号，t1~tn是项，那么P(t1,~,tn)是公式，成为**原子公式**；
  - p,q是公式，那么p和q的通过逻辑符号的连接也是公式，称为复合公式；
  - x是个体变元，p是公式，则$\forall x,p,\exist x,p$是公式，成为量化公式。($\forall , \exist$是全称量词和存在量词)

> 如：$\forall\ student\ \in\ Tongji, \exist\ lrz\ is\ nb.$



## 一阶推理

#### 合一

$$
UNIFY(p,q)=\theta \Leftrightarrow SUBST(p,\theta)=SUBST(q,\theta)
$$

$$
UNIFY(Know(a,b),Know(c,d))=\{a/c,b/d\}
$$

后者表示a可能是c，b可能是d。